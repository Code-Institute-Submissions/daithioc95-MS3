{% extends "base.html" %}
{% block content %}
<main class="container">

<!-- embed https://codepen.io/JoeHastings/pen/MOdRVm -->
<div class="row">
    <div class="welcome-qotd">
        <blockquote class="qotd">{{ qotd.Quote }}</blockquote>
        <cite class="qotd">{{ qotd.Author }}</cite>
    </div>
</div>

<div class="row card-panel grey lighten-5">
    <form action="{{ url_for('search') }}" method="POST" class="col s12">
        <div class="row valign-wrapper center-align">
            <div class="input-field col s12 m8">
                <i class="fas fa-search prefix light-blue-text text-darken-4"></i>
                <input type="text" name="query" id="query" minlength="3" class="validate" required>
                <label class="hide-on-small-only" for="query">Search quotes</label>
                <label class="hide-on-med-and-up" for="query">Search</label>
            </div>
            <div class="col s8 m4">
                <a href="{{ url_for('get_quotes') }}" class="reset btn text-shadow">Reset</a>
                <button type="submit" class="indigo lighten-2 btn text-shadow">
                    <i class="fas fa-search-left"></i> Search
                </button>
            </div>
        </div>
    </form>
</div>

<h2>Popular Quotes</h2>

{% for post in posts.items %}
    <article class="hide-on-small-only article">
    <blockquote>
        <p>{{ post.Quote }}</p>
        <cite>{{ post.Author }}</cite>
        <!-- <cite>{{ quote.Tags[1] }} </cite> -->
        <div class="blockquote-author-image"
            style="--image: url('https://raw.githubusercontent.com/daithioc95/MS1/master/assets/images/logo.jpg')">
        </div>
        <div class="star">
            <label for="id-of-input{{ quote._id }}" class="indigo lighten-2 custom-checkbox">
                <input type="checkbox" id="id-of-input{{ quote._id }}" />
                <i class="glyphicon glyphicon-star-empty"></i>
                <i class="glyphicon glyphicon-star"></i>
            </label>
        </div>
    </blockquote>
</article>
{% endfor %}

<ul class="pagination center-align">
    <li class="disabled"><a href="#!"><i class="fas fa-arrow-left"></i></a></li>
    <li class="active"><a href="#!">1</a></li>
    <li class="waves-effect"><a href="#!">2</a></li>
    <li class="waves-effect"><a href="#!">3</a></li>
    <li class="waves-effect"><a href="#!">4</a></li>
    <li class="waves-effect"><a href="#!">5</a></li>
    <li class="waves-effect"><a href="#!"><i class="fas fa-arrow-right"></i></a></li>
</ul>
  
{% else %}
<h3 class="red-text text-darken-4 center-align">No Results Found</h3>
{% endif %}

</main>
{% endblock %}

    {% if session.user and get_fav == None and fav_quotes2 %}
    <div class="row initial-h2">
        <div class="col xl2"></div>
        <div class="col m12 l8 xl5">
            <h2>{{ session['user'] }}'s favourite quotes</h2>
        </div>
    </div>
    <div class="row">
        <div class="col xl2"></div>
        <div class="col m12 l8 xl4">
            <h3 class="link-heading"><a href="{{ url_for('get_quotes', get_fav = "No") }}">Discover quotes here</a></h3>
        </div>
    </div>
    {% elif url_for(request.endpoint) == url_for('search_quotes') %}
    <div class="row initial-h2">
        <div class="col xl2"></div>
        <div class="col m12 l8 xl5">
            <h2>Results</h2>
        </div>
    </div>
    {% elif get_fav == "No" or not fav_quotes2 %}
    <div class="row initial-h2">
        <div class="col xl2"></div>
        <div class="col m12 l8 xl5">
            <h2>Popular quotes</h2>
        </div>
    </div>
    {% if session.user and fav_quotes2 %}
    <div class="row">
        <div class="col xl2"></div>
        <div class="col m12 l8 xl4">
            <h3 class="link-heading"><a href="{{ url_for('get_quotes') }}">{{ session['user'] }}'s favourite quotes</a></h3>
        </div>
    </div>
    {% endif %}
    {% endif %}

    <!-- works on large but not small -->

        <form method="POST" action="{{ url_for('generate_mood', generated = "yes") }}">
        <div class="row">
            <div class="hide-on-med-and-up col s1"></div>
            <input type="checkbox" class="hidden" name="mood-button" value="friendship" id="mood-button1_friendship"
                {% for x in checked_buttons if x|string == "friendship" %}checked{% else %}unchecked{% endfor %}><label
                id="label_friendship" class="hvr-radial-out col s5 l3" for="mood-button1_friendship">
                friendship</label>
            <input type="checkbox" class="hidden" name="mood-button" value="inspirational"
                id="mood-button2_inspirational"
                {% for x in checked_buttons if x|string == "inspirational" %}checked{% else %}unchecked{% endfor %}><label
                id="label_inspirational" class="hvr-radial-out col s5 l3"
                for="mood-button2_inspirational">inspirational</label>
            <div class="hide-on-med-and-up col s1"></div>
            <input type="checkbox" class="hidden" name="mood-button" value="truth" id="mood-button3_truth"
                {% for x in checked_buttons if x|string == "truth" %}checked{% else %}unchecked{% endfor %}><label
                id="label_truth" class="hvr-radial-out col s5 l3" for="mood-button3_truth">truth</label>
        </div>
                <div class="row">
                <div class="col l2"></div>
                
            <input type="checkbox" class="hidden" name="mood-button" value="knowledge" id="mood-button4_knowledge"
                {% for x in checked_buttons if x|string == "knowledge" %}checked{% else %}unchecked{% endfor %}><label
                id="label_knowledge" class="hvr-radial-out col s5 l3" for="mood-button4_knowledge">knowledge</label>
            <div class="hide-on-med-and-up col s1"></div><input type="checkbox" class="hidden" name="mood-button"
                value="love" id="mood-button5_love"
                {% for x in checked_buttons if x|string == "love" %}checked{% else %}unchecked{% endfor %}><label
                id="label_love" class="hvr-radial-out col s5 l3" for="mood-button5_love">love</label>
                <div class="col l2"></div>
            </div>
            <div class="row">
            <input type="checkbox" class="hidden" name="mood-button" value="forgiveness" id="mood-button6_forgiveness"
                {% for x in checked_buttons if x|string == "forgiveness" %}checked{% else %}unchecked{% endfor %}><label
                id="label_forgiveness" class="hvr-radial-out col s5 l3"
                for="mood-button6_forgiveness">forgiveness</label>
            <div class="hide-on-med-and-up col s1"></div><input type="checkbox" class="hidden" name="mood-button"
                value="strategy" id="mood-button7_strategy"
                {% for x in checked_buttons if x|string == "strategy" %}checked{% else %}unchecked{% endfor %}><label
                id="label_strategy" class="hvr-radial-out col s5 l3" for="mood-button7_strategy">strategy</label>
            <input type="checkbox" class="hidden" name="mood-button" value="art" id="mood-button8_art"
                {% for x in checked_buttons if x|string == "art" %}checked{% else %}unchecked{% endfor %}><label
                id="label_art" class="hvr-radial-out col s5 l3" for="mood-button8_art">art</label>
        </div>

        <button id="generate-moods" class="btn waves-effect waves-light" type="submit" name="action">Generate Quotes
            <i class="material-icons right">sync</i>
            <!-- update track_changes sync -->
        </button>
    </form>